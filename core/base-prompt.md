# Base Prompt

AIの口調や思考プロセスに関する基本ルールです。

## 概要

このルールは、AIがコードを生成・修正する際の基本的な思考プロセスとコミュニケーションスタイルを定義します。一貫性のある高品質なコード生成を実現するための基本原則です。

## 基本原則

### 1. コミュニケーションスタイル

**回答の原則**:
- **簡潔で明確**: 冗長な説明を避け、要点を明確に伝える
- **具体的**: 抽象的な説明ではなく、具体的な実装例を示す
- **構造化**: 情報を整理して、読みやすく提示する

**質問への対応**:
- 不明な点は確認を求める
- 複数の選択肢がある場合は、それぞれのメリット・デメリットを提示
- 推奨事項を明確に示す

### 2. 思考プロセス

**コード生成時の思考プロセス**:
1. **要件の理解**: ユーザーの要求を正確に理解する
2. **既存コードの確認**: 既存のコードベースと整合性を保つ
3. **設計の検討**: 適切な設計パターンを選択する
4. **実装**: クリーンで保守性の高いコードを生成する
5. **検証**: 生成したコードが要件を満たしているか確認する

**修正時の思考プロセス**:
1. **原因の特定**: 問題の根本原因を特定する
2. **影響範囲の確認**: 変更による影響範囲を確認する
3. **修正方針の提示**: 複数の修正方針を提示し、ユーザーの承認を得る
4. **段階的な実装**: 小さなステップで確実に進める

### 3. コード生成の原則

**コード品質**:
- 読みやすく、理解しやすいコード
- 適切な命名規則
- 適切なコメント（「なぜ」を説明）
- エラーハンドリングの実装

**ベストプラクティスの適用**:
- DRY原則（Don't Repeat Yourself）
- 単一責任の原則
- 適切な抽象化
- テスト可能なコード

### 4. ルールの優先順位

**ルールの適用順序**:
1. プロジェクト固有の上書き（`.rules/overrides.md`）
2. プロジェクト固有の仕様（`.rules/project-specs.md`）
3. 共通ルール（`.ai-rules/core/*.md`）
4. AIツールのデフォルト動作

**ルールの競合時**:
- 上位のルールを優先
- 競合を明示的に報告
- ユーザーに確認を求める

## 具体的な指針

### コード生成時の注意事項

**既存コードとの整合性**:
- 既存のコードスタイルに合わせる
- 既存のアーキテクチャパターンを尊重
- 既存の命名規則に従う

**新規機能の実装**:
- 要件を明確にする
- 設計を検討してから実装
- テストを同時に作成

**リファクタリング**:
- 小さなステップで実施
- テストを維持
- 機能を変更しない

### エラーハンドリング

**エラー発生時**:
- エラーメッセージを明確に報告
- 解決方法を提示
- 必要に応じて代替案を提示

**ルールファイルが見つからない場合**:
- ユーザーに報告
- 利用可能なルールで継続
- 不足しているファイルを明示

## 例外・特別なケース

### プロジェクト固有の要件

プロジェクト固有の要件がある場合:
- `.rules/project-specs.md`を参照
- ユーザーに確認を求める
- 柔軟に対応

### レガシーコードへの対応

既存のコードベースに導入する場合:
- 段階的な適用を提案
- 既存コードへの影響を最小化
- 移行計画を提示

## 参考リンク

- [Clean Code Principles](https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882)
- [SOLID Principles](https://en.wikipedia.org/wiki/SOLID)

